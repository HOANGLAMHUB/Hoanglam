<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>Lyric Karaoke Neon Emoji</title>

    <style>
        /* ================= RESET ================= */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }
        
        html,
        body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
            font-family: Arial, Helvetica, sans-serif;
        }
        /* ================= CANVAS ================= */
        
        canvas {
            position: fixed;
            inset: 0;
            z-index: 0;
        }
        /* ================= CONTAINER ================= */
        
        .container {
            position: relative;
            z-index: 5;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        /* ================= LYRIC BOX ================= */
        
        #lyricBox {
            padding: 30px 40px;
            min-height: 160px;
            font-size: 28px;
            line-height: 1.9;
            backdrop-filter: blur(4px);
        }
        /* ================= CHá»® ================= */
        
        .char {
            opacity: .25;
            transition: opacity .12s ease;
            text-shadow: 0 0 6px currentColor, 0 0 18px currentColor, 0 0 36px currentColor;
        }
        
        .char.active {
            opacity: 1
        }
        /* ================= EMOJI ================= */
        
        .char.emoji {
            text-shadow: 0 0 10px currentColor, 0 0 25px currentColor, 0 0 50px currentColor, 0 0 80px currentColor;
            animation: emojiBeat .6s infinite alternate;
        }
        
        @keyframes emojiBeat {
            from {
                transform: scale(1);
                filter: brightness(1)
            }
            to {
                transform: scale(1.25);
                filter: brightness(1.8)
            }
        }
        /* ================= BEAT TOÃ€N DÃ’NG ================= */
        
        #lyricBox.beat {
            animation: lineBeat .8s infinite alternate;
        }
        
        @keyframes lineBeat {
            from {
                transform: scale(1)
            }
            to {
                transform: scale(1.02)
            }
        }
        /* ================= MOBILE ================= */
        
        @media (max-width:768px) {
            #lyricBox {
                font-size: 20px;
                line-height: 1.7;
                padding: 20px;
            }
            .char.emoji {
                animation-duration: .8s
            }
        }
    </style>
</head>

<body>

    <canvas id="starLayer"></canvas>
    <canvas id="fogLayer"></canvas>

    <div class="container">
        <div id="lyricBox"></div>
    </div>

    <script>
        /* ================= TIá»†N ÃCH ================= */
        const rand = (a, b) => Math.random() * (b - a) + a;

        /* ================= CANVAS ================= */
        const starCanvas = document.getElementById("starLayer");
        const starCtx = starCanvas.getContext("2d");

        const fogCanvas = document.getElementById("fogLayer");
        const fogCtx = fogCanvas.getContext("2d");

        let sw, sh, stars = [];

        /* ================= RESIZE (FIX Lá»–I + MOBILE) ================= */
        function resize() {
            const dpr = window.devicePixelRatio || 1;
            sw = window.innerWidth;
            sh = window.innerHeight;

            starCanvas.width = sw * dpr;
            starCanvas.height = sh * dpr;
            starCanvas.style.width = sw + "px";
            starCanvas.style.height = sh + "px";
            starCtx.setTransform(dpr, 0, 0, dpr, 0, 0);

            fogCanvas.width = sw * dpr;
            fogCanvas.height = sh * dpr;
            fogCanvas.style.width = sw + "px";
            fogCanvas.style.height = sh + "px";
            fogCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
        }
        window.addEventListener("resize", resize);
        resize();

        /* ================= SAO BAY ================= */
        const STAR_COUNT = window.innerWidth < 768 ? 140 : 250;
        for (let i = 0; i < STAR_COUNT; i++) {
            stars.push({
                x: rand(0, sw),
                y: rand(0, sh),
                z: rand(0, sw),
                s: rand(1, 3)
            });
        }

        function drawStars() {
            starCtx.fillStyle = "rgba(0,0,0,.45)";
            starCtx.fillRect(0, 0, sw, sh);

            stars.forEach(st => {
                st.z -= st.s;
                if (st.z <= 0) st.z = sw;
                const k = 128 / st.z;
                const px = (st.x - sw / 2) * k + sw / 2;
                const py = (st.y - sh / 2) * k + sh / 2;
                const size = (1 - st.z / sw) * 2;
                starCtx.fillStyle = "#fff";
                starCtx.fillRect(px, py, size, size);
            });
            requestAnimationFrame(drawStars);
        }
        drawStars();

        /* ================= SÆ¯Æ NG ================= */
        let fogOffset = 0;

        function drawFog() {
            fogCtx.clearRect(0, 0, sw, sh);
            fogOffset += .3;
            const g = fogCtx.createLinearGradient(0, fogOffset, sw, sh);
            g.addColorStop(0, "rgba(255,255,255,.03)");
            g.addColorStop(1, "rgba(255,255,255,0)");
            fogCtx.fillStyle = g;
            fogCtx.fillRect(0, 0, sw, sh);
            requestAnimationFrame(drawFog);
        }
        drawFog();

        /* ================= LYRIC + EMOJI ================= */
        const lyrics = [
            "Vai cÆ¡n náº¯ng â˜€ï¸ phiÃªu du theo lÃ n khÃ³i mong manh ðŸŒ«ï¸",
            "LÃ  cÃ´ng chÃºa ðŸ‘‘ hay nÃ ng tiÃªn ná»¯ ðŸ§šâ€â™€ï¸ á»Ÿ trong tranh ðŸ–¼ï¸",
            "GiÃ³ cuá»‘n mÃ¢y â˜ï¸ mang theo tÃ¬nh ta ðŸ’ž Ä‘áº¿n mÃ¢y ngÃ n ðŸŒŒ",
            "Äá»ƒ anh hÃ¡t ðŸŽ¤ cho em ðŸ’– nhá»¯ng giai Ä‘iá»‡u ngÃ¢n vang ðŸŽ¶",

            "NÃ ng Æ¡i ðŸ’• em cÃ³ muá»‘n theo anh ðŸš¶â€â™‚ï¸ðŸš¶â€â™€ï¸",
            "Ta vá» chá»‘n phÆ°Æ¡ng xa ðŸŒ„",
            "Vá» má»™t nÆ¡i yÃªn bÃ¬nh ðŸ¡ mÃ  chá»‰ cÃ³ Ä‘Ã´i ta ðŸ’‘",
            "LÃ  khe dÃ´ng ðŸƒ Ä‘Æ°a trÃªn cÃ nh cÃ¢y chá»‘n xa xÄƒm ðŸŒ³",
            "Em cÃ³ muá»‘n theo anh ðŸ¤",
            "Ta vá» chá»‘n trÄƒm nÄƒm â™¾ï¸",

            "Em cÃ³ biáº¿t lÃ  vÃ i ná»¥ há»“ng ðŸŒ¹",
            "CÃ²n vÆ°Æ¡ng khi mÃ´i em cÆ°á»i ðŸ˜Š",
            "NhÆ°ng em yÃªn tÃ¢m ðŸ¤ khi mÃ ",
            "Anh yÃªu ðŸ’– lÃ  anh xÃ¡c Ä‘á»‹nh sáº½ cÆ°á»›i ðŸ’",
            "Anh há»©a ðŸ¤ž sáº½ khÃ´ng bao giá»",
            "Äá»ƒ giá»t lá»‡ ðŸ’§ trÃªn mi em pháº£i rÆ¡i ðŸ˜¢",
            "VÃ  anh há»©a ðŸ¤ sáº½ khÃ´ng Ä‘Ã¡nh máº¥t",
            "Em khi ta á»Ÿ tuá»•i Ä‘Ã´i mÆ°Æ¡i ðŸŒ±",

            "VÃ i cÃ¢u nÃ³i Ä‘Æ°á»ng máº­t ðŸ¯ cá»§a anh",
            "CÃ³ thá»ƒ khiáº¿n em say Ä‘áº¯m ðŸ˜µâ€ðŸ’«",
            "NhÆ°ng em cÃ³ tháº¥u cáº£m giÃ¡c ðŸ’“",
            "Ngá»t ngÃ o khi Ä‘Ã´i ta dáº§n tay náº¯m ðŸ¤",
            "Anh thÃ¬ khÃ´ng cÃ³ gÃ¬ ðŸŽ’",
            "NgoÃ i má»™t trÃ¡i tim chÃ¢n thÃ nh â¤ï¸",
            "VÃ  em cÃ³ muá»‘n xÃ¢y Ä‘áº¯p tÆ°Æ¡ng lai ðŸ ",
            "NgÃ´i nhÃ  háº¡nh phÃºc cÃ¹ng anh ðŸ’‘",

            "DÃ¹ ngoÃ i kia cÃ³ bÃ£o ðŸŒ§ï¸ cÃ³ giÃ´ng ðŸŒªï¸",
            "ThÃ¬ Ä‘Ã£ cÃ³ anh á»Ÿ Ä‘Ã¢y rá»“i ðŸ›¡ï¸",
            "Tráº§u cau nhÃ  anh Ä‘Ã£ cÃ³ sáºµn ðŸƒ",
            "Chá» em yÃªu gáº­t Ä‘áº§u má»™t cÃ¡i thÃ´i ðŸ’",
            "Anh Ä‘Æ°a em vá» rá»“i ðŸš¶â€â™‚ï¸ðŸš¶â€â™€ï¸",
            "ChÃºng mÃ¬nh chung gá»‘i ðŸ›ï¸"
        ];

        const colors = ["#38bdf8", "#f472b6", "#a7f3d0", "#fde047", "#c084fc", "#fb7185", "#22d3ee", "#facc15", "#4ade80", "#60a5fa"];

        const lyricBox = document.getElementById("lyricBox");
        let lineIndex = 0;

        /* ================= KARAOKE ================= */
        function showLine() {
            lyricBox.innerHTML = "";
            const chars = [...lyrics[lineIndex]];

            chars.forEach((ch, i) => {
                const sp = document.createElement("span");
                sp.textContent = ch;
                sp.className = "char";

                if (/\p{Extended_Pictographic}/u.test(ch)) {
                    sp.classList.add("emoji");
                    sp.style.color = colors[(i * 2) % colors.length];
                } else {
                    sp.style.color = colors[i % colors.length];
                }
                lyricBox.appendChild(sp);
            });

            lyricBox.querySelectorAll(".char").forEach((s, i) => {
                setTimeout(() => s.classList.add("active"), i * 55);
            });

            lineIndex = (lineIndex + 1) % lyrics.length;
            setTimeout(showLine, chars.length * 55 + 1400);
        }

        /* ================= BEAT GIáº¢ ================= */
        const BEAT_TIME = window.innerWidth < 768 ? 1100 : 800;
        setInterval(() => lyricBox.classList.toggle("beat"), BEAT_TIME);

        setTimeout(showLine, 1000);
    </script>

</body>

</html>